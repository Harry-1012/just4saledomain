<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ğŸ‘‹HarryBlog</title>
  
  
  <link href="https://harrywork.com/blog/atom.xml" rel="self"/>
  
  <link href="https://harrywork.com/blog/"/>
  <updated>2025-04-19T02:24:44.190Z</updated>
  <id>https://harrywork.com/blog/</id>
  
  <author>
    <name>Harry</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>comfyuié€šè¿‡Apiè¯·æ±‚æŠ¥é”™,é€šè¿‡comfyuiç•Œé¢æ‰§è¡Œæ­£å¸¸</title>
    <link href="https://harrywork.com/blog/p/2025comfyujinterfaceerror/"/>
    <id>https://harrywork.com/blog/p/2025comfyujinterfaceerror/</id>
    <published>2025-04-18T00:47:29.000Z</published>
    <updated>2025-04-19T02:24:44.190Z</updated>
    
    <content type="html"><![CDATA[<p>é€šè¿‡æ¥å£Apiæ‰§è¡Œå·¥ä½œæµæŠ¥é”™å¦‚ä¸‹,</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">got prompt</span><br><span class="line">[Impact Pack] ComfyUI-Impact-Pack: Error on prompt - several features will not work.</span><br><span class="line">&#x27;list&#x27; object has no attribute &#x27;items&#x27;</span><br><span class="line">[DEBUG] Inputs type: &lt;class &#x27;list&#x27;&gt;</span><br><span class="line">Exception in thread Thread-7 (prompt_worker):</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;/root/miniconda3/lib/python3.10/threading.py&quot;, line 1016, in _bootstrap_inner</span><br><span class="line">    self.run()</span><br><span class="line">  File &quot;/root/miniconda3/lib/python3.10/threading.py&quot;, line 953, in run</span><br><span class="line">    self._target(*self._args, **self._kwargs)</span><br><span class="line">  File &quot;/root/ComfyUI/main.py&quot;, line 176, in prompt_worker</span><br><span class="line">    e.execute(item[2], prompt_id, item[3], item[4])</span><br><span class="line">  File &quot;/root/ComfyUI/execution.py&quot;, line 479, in execute</span><br><span class="line">    cache.set_prompt(dynamic_prompt, prompt.keys(), is_changed_cache)</span><br><span class="line">  File &quot;/root/ComfyUI/comfy_execution/caching.py&quot;, line 157, in set_prompt</span><br><span class="line">    self.cache_key_set = self.key_class(dynprompt, node_ids, is_changed_cache)</span><br><span class="line">  File &quot;/root/ComfyUI/comfy_execution/caching.py&quot;, line 80, in __init__</span><br><span class="line">    self.add_keys(node_ids)</span><br><span class="line">  File &quot;/root/ComfyUI/comfy_execution/caching.py&quot;, line 92, in add_keys</span><br><span class="line">    self.keys[node_id] = self.get_node_signature(self.dynprompt, node_id)</span><br><span class="line">  File &quot;/root/ComfyUI/comfy_execution/caching.py&quot;, line 97, in get_node_signature</span><br><span class="line">    ancestors, order_mapping = self.get_ordered_ancestry(dynprompt, node_id)</span><br><span class="line">  File &quot;/root/ComfyUI/comfy_execution/caching.py&quot;, line 128, in get_ordered_ancestry</span><br><span class="line">    self.get_ordered_ancestry_internal(dynprompt, node_id, ancestors, order_mapping)</span><br><span class="line">  File &quot;/root/ComfyUI/comfy_execution/caching.py&quot;, line 144, in get_ordered_ancestry_internal</span><br><span class="line">    self.get_ordered_ancestry_internal(dynprompt, ancestor_id, ancestors, order_mapping)</span><br><span class="line">  File &quot;/root/ComfyUI/comfy_execution/caching.py&quot;, line 144, in get_ordered_ancestry_internal</span><br><span class="line">    self.get_ordered_ancestry_internal(dynprompt, ancestor_id, ancestors, order_mapping)</span><br><span class="line">  File &quot;/root/ComfyUI/comfy_execution/caching.py&quot;, line 137, in get_ordered_ancestry_internal</span><br><span class="line">    input_keys = sorted(inputs.keys())</span><br><span class="line">AttributeError: &#x27;list&#x27; object has no attribute &#x27;keys&#x27;</span><br><span class="line">Cannot connect to comfyregistry.</span><br></pre></td></tr></table></figure><p>ä½†é€šè¿‡comfyuiç•Œé¢æ‰§è¡Œæ˜¯æ­£å¸¸çš„,è¿™æ˜¯å› ä¸ºè‡ªåŠ¨éšå¼å…¼å®¹å¤„ç†äº†,å·¥ä½œæµè®¾è®¡ä¸è§„èŒƒ,å¯¼è‡´æŸäº›èŠ‚ç‚¹åˆ—è¡¨å’Œå­—å…¸è¿”å›å€¼æ··æ·†,å¯¼å‡º.jsonæ—¶,æ•°æ®æ˜¯ä¸¥æ ¼æŒ‰ç…§JSONç»“æ„æ¥çš„,æ²¡æœ‰GUIçš„è‡ªåŠ¨çº æ­£æœºåˆ¶,æ‰€ä»¥ä¼šæŠ¥é”™.</p><p>æœ€åæ’æŸ¥åˆ° æŠ¥é”™çš„èŠ‚ç‚¹å¦‚ä¸‹</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">&quot;25&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;inputs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;class_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PulidEvaClipLoader&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_meta&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PuLIDEVAClipåŠ è½½å™¨&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>  ç”±äº25å·èŠ‚ç‚¹ inputsä¸ºç©º,é»˜è®¤è¿”å›äº†ç©ºlist,è€Œéå­—å…¸ç±»å‹dict,ä½†æ˜¯PulidEvaClipLoaderæ’ä»¶è¦æ±‚è¾“å…¥ä¸ºå­—å…¸ç±»å‹</p><p>  å®é™…æ“ä½œæ”¹ä¸ºå¦‚ä¸‹,å¢åŠ é»˜è®¤å€¼å³å¯<br>  <figure class="highlight json"><table><tr><td class="code"><pre><span class="line">  <span class="attr">&quot;25&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;inputs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// æ·»åŠ ä»»æ„æœ‰æ•ˆå­—æ®µå ä½ï¼ˆä¾‹å¦‚æ¨¡å‹è·¯å¾„ï¼‰</span></span><br><span class="line">    <span class="attr">&quot;dummy_param&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span>  </span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;class_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PulidEvaClipLoader&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_meta&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PuLIDEVAClipåŠ è½½å™¨&quot;</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€šè¿‡æ¥å£Apiæ‰§è¡Œå·¥ä½œæµæŠ¥é”™å¦‚ä¸‹,&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;got prompt&lt;/span&gt;&lt;br&gt;&lt;span </summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="comfyui" scheme="https://harrywork.com/blog/tags/comfyui/"/>
    
  </entry>
  
  <entry>
    <title>ä¿®æ”¹è§†é¢‘å…ƒä¿¡æ¯æ—¶é•¿ durationä¿®æ”¹</title>
    <link href="https://harrywork.com/blog/p/2025videoduration/"/>
    <id>https://harrywork.com/blog/p/2025videoduration/</id>
    <published>2025-03-16T00:47:29.000Z</published>
    <updated>2025-04-02T05:28:52.790Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸‹è½½ 010Editorå…è´¹ç‰ˆ <a href="https://sweetscape.com/010editor/">https://sweetscape.com/010editor/</a><br><img src="https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2025/010Ed150Hex.png" alt="alt text"></p><p>æ‰“å¼€ 010Editor , æŒ‰ä¸‹Ctrl+O æ‰“å¼€è¦ä¿®æ”¹çš„è§†é¢‘</p><p>æ‰¾åˆ°durationæ ‡ç­¾ æ›´æ”¹æ—¶é•¿ ç„¶åä¿å­˜<br><img src="https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2025/edit_duration.png" alt="alt text"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¸‹è½½ 010Editorå…è´¹ç‰ˆ &lt;a href=&quot;https://sweetscape.com/010editor/&quot;&gt;https://sweetscape.com/010editor/&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://ihogu-1251903635.c</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="è§†é¢‘" scheme="https://harrywork.com/blog/tags/%E8%A7%86%E9%A2%91/"/>
    
  </entry>
  
  <entry>
    <title>comfyui gemeni apikey é…ç½®</title>
    <link href="https://harrywork.com/blog/p/2025comfyuigemeniapikey/"/>
    <id>https://harrywork.com/blog/p/2025comfyuigemeniapikey/</id>
    <published>2025-03-15T00:47:29.000Z</published>
    <updated>2025-04-01T07:42:40.197Z</updated>
    
    <content type="html"><![CDATA[<p>&#x2F;root&#x2F;ComfyUI&#x2F;custom_nodes&#x2F;ComfyUI_LayerStyle_Advance&#x2F;api_key.ini</p><p><a href="https://console.cloud.google.com/apis/library/generativelanguage.googleapis.com?project=aqueous-impact-386909&inv=1&invt=AbtkIg">https://console.cloud.google.com/apis/library/generativelanguage.googleapis.com?project=aqueous-impact-386909&amp;inv=1&amp;invt=AbtkIg</a></p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">google api <span class="attr">key</span>=xxxxxxxxxxxxxx</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&amp;#x2F;root&amp;#x2F;ComfyUI&amp;#x2F;custom_nodes&amp;#x2F;ComfyUI_LayerStyle_Advance&amp;#x2F;api_key.ini&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://console.cloud.google.c</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="ComfyUI" scheme="https://harrywork.com/blog/tags/ComfyUI/"/>
    
  </entry>
  
  <entry>
    <title>ffmpeg ä¸­æ–‡ä¹±ç  windows</title>
    <link href="https://harrywork.com/blog/p/ffmpegzhognwenluanmawinds/"/>
    <id>https://harrywork.com/blog/p/ffmpegzhognwenluanmawinds/</id>
    <published>2024-10-15T00:47:29.000Z</published>
    <updated>2024-09-28T08:06:09.218Z</updated>
    
    <content type="html"><![CDATA[<p>ffmpeg ä¸­æ–‡ä¹±ç <br>å…ˆå»Windowså­—ä½“åº“ C:\Windows\Fonts , å¤åˆ¶å¾®è½¯é›…é»‘msyhl.ttc,åˆ°ffmpegè¿è¡Œç›®å½• </p><p>ffmpegé‡Œå­—åº“æ–‡ä»¶æ”¹æˆè¿™æ ·:fontfile&#x3D;â€™msyhl.ttcâ€™</p><p>å†é‡æ–°æ‰§è¡Œå°±å¯ä»¥äº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ffmpeg ä¸­æ–‡ä¹±ç &lt;br&gt;å…ˆå»Windowså­—ä½“åº“ C:&#92;Windows&#92;Fonts , å¤åˆ¶å¾®è½¯é›…é»‘msyhl.ttc,åˆ°ffmpegè¿è¡Œç›®å½• &lt;/p&gt;
&lt;p&gt;ffmpegé‡Œå­—åº“æ–‡ä»¶æ”¹æˆè¿™æ ·:fontfile&amp;#x3D;â€™msyhl.ttcâ€™&lt;/p&gt;
&lt;p&gt;å†é‡æ–°æ‰§è¡Œ</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="å­—ä½“" scheme="https://harrywork.com/blog/tags/%E5%AD%97%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>canvasç»˜åˆ¶æ–‡å­—å½©è™¹å¼¯æ›²å¼§å½¢æ•ˆæœ Vue.js</title>
    <link href="https://harrywork.com/blog/p/canvascaihonghuizhitext/"/>
    <id>https://harrywork.com/blog/p/canvascaihonghuizhitext/</id>
    <published>2024-05-25T00:47:29.000Z</published>
    <updated>2024-05-24T07:03:15.089Z</updated>
    
    <content type="html"><![CDATA[<p>demo image</p><p><img src="https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2024/canvascaihonghuizhitext.png" alt="demo image"></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">ref</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">:width</span>=<span class="string">&quot;canvasWidth&quot;</span> <span class="attr">:height</span>=<span class="string">&quot;canvasHeight&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">text</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="string">&#x27;é˜¿æ–¯é¡¿å‘æ–¯è’‚èŠ¬&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">String</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">required</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">radius</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="number">200</span> <span class="comment">// æ§åˆ¶æ–‡å­—å¼¯æ›²çš„åŠå¾„</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">canvasWidth</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="number">500</span> <span class="comment">// Canvas å®½åº¦</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">canvasHeight</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="number">600</span> <span class="comment">// Canvas é«˜åº¦</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">fontSize</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="number">32</span> <span class="comment">// å­—ä½“å¤§å°</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">curvature</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="number">0.5</span> <span class="comment">// å¼¯æ›²åº¦ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´æ¥æ”¹å˜å¼§åº¦</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">letterSpacing</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="number">0</span> <span class="comment">// å­—è·</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">startAngle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="number">0</span> <span class="comment">// èµ·å§‹è§’åº¦</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">ellipseFactor</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">default</span>: <span class="number">1</span> <span class="comment">// æ¤­åœ†å› å­ï¼Œ1è¡¨ç¤ºåœ†å½¢ï¼Œ&lt;1è¡¨ç¤ºå‚ç›´å‹ç¼©ï¼Œ&gt;1è¡¨ç¤ºæ°´å¹³æ‹‰ä¼¸</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">drawCurvedText</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> canvas = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">canvas</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// è®¾ç½®å­—ä½“</span></span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="property">font</span> = <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.fontSize&#125;</span>px Arial`</span>;</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="property">textBaseline</span> = <span class="string">&#x27;middle&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> text = <span class="variable language_">this</span>.<span class="property">text</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> radius = <span class="variable language_">this</span>.<span class="property">radius</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> canvasWidth = <span class="variable language_">this</span>.<span class="property">canvasWidth</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> canvasHeight = <span class="variable language_">this</span>.<span class="property">canvasHeight</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> textLength = text.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> letterSpacing = <span class="variable language_">this</span>.<span class="property">letterSpacing</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> startAngle = <span class="variable language_">this</span>.<span class="property">startAngle</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> ellipseFactor = <span class="variable language_">this</span>.<span class="property">ellipseFactor</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// ä¸­å¿ƒç‚¹</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> centerX = canvasWidth / <span class="number">2</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> centerY = canvasHeight / <span class="number">2</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// å¼§åº¦èŒƒå›´ï¼šä» -curvature åˆ° curvature</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> angleRange = <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="variable language_">this</span>.<span class="property">curvature</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// æ¯ä¸ªå­—ç¬¦çš„è§’åº¦å·®ï¼Œè€ƒè™‘å­—è·</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> totalSpacing = letterSpacing * (textLength - <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> angleStep = (angleRange - totalSpacing / radius) / (textLength - <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// è®¡ç®—èµ·å§‹è§’åº¦ï¼Œä½¿å¾—ä¸­é—´çš„å­—æ˜¯æ­£ç«–ç€çš„</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> halfTextLength = <span class="title class_">Math</span>.<span class="title function_">floor</span>(textLength / <span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; textLength; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> char = text[i];</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// å½“å‰å­—ç¬¦çš„è§’åº¦ï¼Œç›¸å¯¹äºä¸­é—´å­—ç¬¦çš„å¯¹ç§°åˆ†å¸ƒ</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> angle = startAngle + (i - halfTextLength) * (angleStep + letterSpacing / radius);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> x = centerX + radius * <span class="title class_">Math</span>.<span class="title function_">sin</span>(angle) * ellipseFactor;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> y = centerY - radius * <span class="title class_">Math</span>.<span class="title function_">cos</span>(angle);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ä¿å­˜å½“å‰ç»˜å›¾çŠ¶æ€</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">save</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ç§»åŠ¨ç”»å¸ƒåˆ°å­—ç¬¦ä½ç½®å¹¶æ—‹è½¬</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">translate</span>(x, y);</span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">rotate</span>(angle); <span class="comment">// ç›´æ¥ä½¿ç”¨å½“å‰å­—ç¬¦çš„è§’åº¦æ—‹è½¬</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// å¦‚æœæ˜¯ä¸­é—´çš„å­—ç¬¦ï¼Œä¿æŒæ­£ç«–ç€</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (i === halfTextLength) &#123;</span></span><br><span class="line"><span class="language-javascript">          ctx.<span class="title function_">rotate</span>(-angle); <span class="comment">// ä¸­é—´å­—ç¬¦ä¿æŒæ­£ç«–ç€</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ç»˜åˆ¶å­—ç¬¦</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">fillText</span>(char, <span class="number">0</span>, <span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ¢å¤ä¹‹å‰ä¿å­˜çš„ç»˜å›¾çŠ¶æ€</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">restore</span>();</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">text</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">radius</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">canvasWidth</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">canvasHeight</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">fontSize</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">curvature</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">letterSpacing</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">startAngle</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">ellipseFactor</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="title function_">drawCurvedText</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">canvas</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">canvasç»˜åˆ¶æ–‡å­—å½©è™¹å¼¯æ›²å¼§å½¢æ•ˆæœ Vue.js</summary>
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="å‰ç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="canvas" scheme="https://harrywork.com/blog/tags/canvas/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºåŠ è½½å­—ä½“å®‰å“çœŸæœºå¤±æ•ˆé—®é¢˜</title>
    <link href="https://harrywork.com/blog/p/2024weixinminifontload/"/>
    <id>https://harrywork.com/blog/p/2024weixinminifontload/</id>
    <published>2024-05-15T00:47:29.000Z</published>
    <updated>2024-05-15T13:38:41.274Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨wx.loadFontFaceæ–¹å¼åŠ è½½å­—ä½“,åœ¨å¼€å‘å·¥å…·å’Œè‹¹æœçœŸæœºå­—ä½“å¯ä»¥æ­£å¸¸åŠ è½½,ä½†æ˜¯åœ¨å®‰å“çœŸæœºå´æ€»æ˜¯å‡ºå‘failå›è°ƒ,è€Œä¸”æ²¡æœ‰åŸå› åªè¿”å›{â€œstatusâ€: â€œerrorâ€}</p><p>æœ€ç»ˆå‘ç°è§£å†³æ–¹æ¡ˆå¦‚ä¸‹:</p><p>å¾®ä¿¡å°ç¨‹åºçš„è¯·æ±‚åŸŸåæ˜¯è¿™ä¸ª servicewechat.com , éœ€è¦å¢åŠ corsæ”¯æŒ<br>æˆ–è€…å»Nginxé…ç½®ä¸­å¢åŠ å­—ä½“æ–‡ä»¶çš„è·¨åŸŸæ”¯æŒ</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//nginx </span><br><span class="line">location ~* \.(eot|ttf|woff|woff2|svg)$ &#123;</span><br><span class="line">    add_header Access-Control-Allow-Origin *;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä½¿ç”¨wx.loadFontFaceæ–¹å¼åŠ è½½å­—ä½“,åœ¨å¼€å‘å·¥å…·å’Œè‹¹æœçœŸæœºå­—ä½“å¯ä»¥æ­£å¸¸åŠ è½½,ä½†æ˜¯åœ¨å®‰å“çœŸæœºå´æ€»æ˜¯å‡ºå‘failå›è°ƒ,è€Œä¸”æ²¡æœ‰åŸå› åªè¿”å›{â€œstatusâ€: â€œerrorâ€}&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆå‘ç°è§£å†³æ–¹æ¡ˆå¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;å¾®ä¿¡å°ç¨‹åºçš„è¯·æ±‚åŸŸåæ˜¯è¿™ä¸ª servic</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="å‰ç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="å­—ä½“" scheme="https://harrywork.com/blog/tags/%E5%AD%97%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>PHPç›´æ¥è¾“å‡ºäºŒè¿›åˆ¶å›¾ç‰‡ æ˜¾ç¤ºå›¾ç‰‡ ThinkPHPç›´æ¥è¾“å‡ºäºŒè¿›åˆ¶å›¾ç‰‡æ˜¾ç¤º</title>
    <link href="https://harrywork.com/blog/p/2024phpshuchutupian/"/>
    <id>https://harrywork.com/blog/p/2024phpshuchutupian/</id>
    <published>2024-05-01T00:47:29.000Z</published>
    <updated>2024-04-30T16:30:00.845Z</updated>
    
    <content type="html"><![CDATA[<p>å…³é”®æ˜¯ä» ob_end_clean(); å¼€å§‹çš„è¿™ä¸€æ®µä»£ç </p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–èƒŒæ™¯å›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡</span></span><br><span class="line"><span class="variable">$backgroundPath</span> = <span class="string">&#x27;èƒŒæ™¯å›¾è·¯å¾„&#x27;</span>;</span><br><span class="line"><span class="variable">$overlayPath</span> = <span class="string">&#x27;è¦è¦†ç›–çš„è·¯å¾„&#x27;</span>;</span><br><span class="line"><span class="comment">// è·å–èƒŒæ™¯å›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡çš„èµ„æº</span></span><br><span class="line"><span class="variable">$background</span> = <span class="title function_ invoke__">imagecreatefrompng</span>(<span class="variable">$backgroundPath</span>);</span><br><span class="line"><span class="variable">$overlay</span> = <span class="title function_ invoke__">imagecreatefrompng</span>(<span class="variable">$overlayPath</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ç›®æ ‡å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦</span></span><br><span class="line"><span class="variable">$overlayWidth</span> = <span class="title function_ invoke__">imagesx</span>(<span class="variable">$overlay</span>);</span><br><span class="line"><span class="variable">$overlayHeight</span> = <span class="title function_ invoke__">imagesy</span>(<span class="variable">$overlay</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ç›®æ ‡å›¾ç‰‡å åŠ åˆ°èƒŒæ™¯å›¾ç‰‡ä¸Š</span></span><br><span class="line"><span class="title function_ invoke__">imagecopy</span>(<span class="variable">$background</span>, <span class="variable">$overlay</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="variable">$overlayWidth</span>, <span class="variable">$overlayHeight</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„å›¾åƒèµ„æº</span></span><br><span class="line"><span class="variable">$output</span> = <span class="title function_ invoke__">imagecreatetruecolor</span>(<span class="variable">$overlayWidth</span>, <span class="variable">$overlayHeight</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤åˆ¶å åŠ åçš„å›¾åƒåˆ°è¾“å‡ºå›¾åƒ</span></span><br><span class="line"><span class="title function_ invoke__">imagecopy</span>(<span class="variable">$output</span>, <span class="variable">$background</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="variable">$overlayWidth</span>, <span class="variable">$overlayHeight</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">ob_end_clean</span>();</span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&quot;content-type:image/png&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">ob_start</span>();</span><br><span class="line"><span class="title function_ invoke__">imagejpeg</span>(<span class="variable">$output</span>);</span><br><span class="line"><span class="variable">$content</span> = <span class="title function_ invoke__">ob_get_contents</span>();</span><br><span class="line"><span class="title function_ invoke__">ob_end_clean</span>();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$content</span>;</span><br><span class="line"><span class="keyword">die</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å…³é”®æ˜¯ä» ob_end_clean(); å¼€å§‹çš„è¿™ä¸€æ®µä»£ç &lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="php" scheme="https://harrywork.com/blog/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>Pythonå…ˆé¡ºåºåˆ†ç»„ç„¶åæ‰“ä¹±åˆ†ç»„é¡ºåº</title>
    <link href="https://harrywork.com/blog/p/2023PythonSequential/"/>
    <id>https://harrywork.com/blog/p/2023PythonSequential/</id>
    <published>2023-05-04T00:47:29.000Z</published>
    <updated>2024-04-07T01:02:03.652Z</updated>
    
    <content type="html"><![CDATA[<p>Pythonå…ˆé¡ºåºåˆ†ç»„ç„¶åæ‰“ä¹±åˆ†ç»„é¡ºåº</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆå¹¶tsè§†é¢‘</span></span><br><span class="line"><span class="keyword">import</span> os,time ,random, shutil</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰å¾ªç¯æ¬¡æ•°</span></span><br><span class="line">loop_times = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç”¨æ¥åˆ†ç»„æ’åºçš„æ•°ç»„</span></span><br><span class="line">mySortArr = []</span><br><span class="line">path = <span class="string">r&quot;D:\XXX\è§†é¢‘tsæ–‡ä»¶å¤¹&quot;</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> os.listdir(path):</span><br><span class="line">    <span class="keyword">if</span> file.endswith(<span class="string">&#x27;.ts&#x27;</span>):</span><br><span class="line">       mySortArr.append(file)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯ä¸ªåˆ†ç»„æœ€å°åŒ…å«æ–‡ä»¶æ•°</span></span><br><span class="line">maxFileNum = <span class="number">4</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">find_all_index</span>(<span class="params">arr, item</span>):</span><br><span class="line">    <span class="keyword">return</span> [i <span class="keyword">for</span> i, a <span class="keyword">in</span> <span class="built_in">enumerate</span>(arr) <span class="keyword">if</span> a == item]</span><br><span class="line">randomListMax = <span class="built_in">len</span>(mySortArr)*<span class="number">100</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sortA</span>(<span class="params">filelist</span>):</span><br><span class="line">    tempGroupList = []</span><br><span class="line">    <span class="comment">#åˆ†ç»„</span></span><br><span class="line">    groupList = []</span><br><span class="line">    tempGroupLIst = []</span><br><span class="line">    tempGroupAppendIndex=<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> tempGroupAppendIndex &lt; randomListMax+<span class="number">1</span>:</span><br><span class="line">      groupList.append(<span class="number">0</span>)</span><br><span class="line">      tempGroupAppendIndex += <span class="number">1</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    countNum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> files <span class="keyword">in</span> filelist:   <span class="comment">#éå†æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">        i = i + <span class="number">1</span></span><br><span class="line">        countNum +=<span class="number">1</span></span><br><span class="line">        tempGroupList.append(files)</span><br><span class="line">        randomIndex = random.randint(<span class="number">0</span>,randomListMax)  </span><br><span class="line">        hasPlaceholder = find_all_index(groupList,tempGroupLIst)</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">len</span>(hasPlaceholder)!=<span class="number">0</span>):</span><br><span class="line">          randomIndex = random.randint(<span class="number">0</span>,randomListMax)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> countNum &gt;= maxFileNum :    </span><br><span class="line">             countNum = <span class="number">0</span>            </span><br><span class="line">            <span class="comment">#  print(randomIndex,&quot;randomIndex&quot;)      </span></span><br><span class="line">             rIndex = <span class="number">0</span></span><br><span class="line">             <span class="keyword">for</span> tempItem <span class="keyword">in</span> tempGroupList:</span><br><span class="line">                  rIndex+=<span class="number">1</span></span><br><span class="line">                  groupList[randomIndex+rIndex] = tempItem</span><br><span class="line">             tempItemR = <span class="built_in">reversed</span>(tempGroupList)    <span class="comment"># å€’åº           </span></span><br><span class="line">             <span class="keyword">for</span> tempItem <span class="keyword">in</span> tempItemR:</span><br><span class="line">                  groupList[randomIndex+rIndex+<span class="built_in">len</span>(tempGroupLIst)] = tempItem    </span><br><span class="line">                  rIndex+=<span class="number">1</span>      </span><br><span class="line">             tempItemR = []</span><br><span class="line">             tempGroupList = []</span><br><span class="line"></span><br><span class="line">    removeGroupList = groupList</span><br><span class="line">    listRes = []</span><br><span class="line">    <span class="keyword">for</span> groupItemOld <span class="keyword">in</span> removeGroupList:      </span><br><span class="line">      <span class="keyword">if</span>(groupItemOld!=<span class="number">0</span>):</span><br><span class="line">        listRes.append(groupItemOld) </span><br><span class="line">    <span class="comment"># random.shuffle(filelist)</span></span><br><span class="line">    <span class="comment"># print(listRes,&quot;listRes&quot;)</span></span><br><span class="line">    <span class="keyword">return</span> listRes</span><br><span class="line"><span class="comment">#/sort$############################</span></span><br><span class="line"></span><br><span class="line">mySortArr = sortA(mySortArr)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ‰§è¡Œå¾ªç¯éå†</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, loop_times + <span class="number">1</span>):</span><br><span class="line">  <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&quot;<span class="subst">&#123;i&#125;</span>.txt&quot;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:     </span><br><span class="line">    <span class="keyword">for</span> content <span class="keyword">in</span> mySortArr:   </span><br><span class="line">        f.write(<span class="string">f&quot;file &#x27;<span class="subst">&#123;content&#125;</span>&#x27;\n&quot;</span>)</span><br><span class="line">    <span class="comment"># print(f&quot;&#123;i&#125;.txt æ–‡ä»¶ç”ŸæˆæˆåŠŸï¼&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#quit()</span></span><br><span class="line"><span class="comment"># åˆå¹¶txtæ–‡ä»¶</span></span><br><span class="line">os.system(<span class="string">&#x27;copy /B ?*.txt output.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;åˆå¹¶txtæ–‡ä»¶æˆåŠŸï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ç”Ÿæˆçš„i.txtæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, loop_times + <span class="number">1</span>):</span><br><span class="line">    os.remove(<span class="string">f&quot;<span class="subst">&#123;i&#125;</span>.txt&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;i.txt æ–‡ä»¶åˆ é™¤æˆåŠŸï¼&quot;</span>)</span><br><span class="line"><span class="comment"># æ‰§è¡Œffmpegåˆå¹¶</span></span><br><span class="line">os.system(<span class="string">&#x27;ffmpeg -f concat -safe 0 -i output.txt -c copy åˆæˆè§†é¢‘.mp4&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ffmpegåˆå¹¶æˆåŠŸï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ output.txt æ–‡ä»¶</span></span><br><span class="line">os.remove(<span class="string">&#x27;output.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;output.txt æ–‡ä»¶åˆ é™¤æˆåŠŸï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å½“å‰ç›®å½•ä¸‹æ‰€æœ‰.tsæ ¼å¼çš„è§†é¢‘æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(<span class="string">&#x27;.&#x27;</span>):</span><br><span class="line">    <span class="keyword">if</span> filename.endswith(<span class="string">&#x27;.ts&#x27;</span>):</span><br><span class="line">        os.remove(filename)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;.tsæ ¼å¼ æ–‡ä»¶åˆ é™¤æˆåŠŸï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰å‰ç¼€ä¸ºimages_çš„æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="keyword">for</span> foldername <span class="keyword">in</span> os.listdir(<span class="string">&#x27;.&#x27;</span>):</span><br><span class="line">    <span class="keyword">if</span> foldername.startswith(<span class="string">&#x27;images_&#x27;</span>):</span><br><span class="line">        shutil.rmtree(foldername)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;images_ æ–‡ä»¶åˆ é™¤æˆåŠŸï¼&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Pythonå…ˆé¡ºåºåˆ†ç»„ç„¶åæ‰“ä¹±åˆ†ç»„é¡ºåº&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# åˆå¹¶ts</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="python" scheme="https://harrywork.com/blog/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>fastadminå¼•å…¥layui,å¹¶è°ƒç”¨layuiæ¥å£</title>
    <link href="https://harrywork.com/blog/p/2023IntroducingLayui/"/>
    <id>https://harrywork.com/blog/p/2023IntroducingLayui/</id>
    <published>2023-04-23T00:47:29.000Z</published>
    <updated>2024-04-07T01:02:03.656Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€ç§æ–¹å¼-å…¨å±€å¼•å…¥"><a href="#ç¬¬ä¸€ç§æ–¹å¼-å…¨å±€å¼•å…¥" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼,å…¨å±€å¼•å…¥"></a>ç¬¬ä¸€ç§æ–¹å¼,å…¨å±€å¼•å…¥</h2><h3 id="å…ˆå»-layui-å®˜ç½‘-ä¸‹è½½æ•´ä¸ªä»“åº“-æœ‰-dist-src-ç›®å½•çš„"><a href="#å…ˆå»-layui-å®˜ç½‘-ä¸‹è½½æ•´ä¸ªä»“åº“-æœ‰-dist-src-ç›®å½•çš„" class="headerlink" title="å…ˆå» layui å®˜ç½‘,ä¸‹è½½æ•´ä¸ªä»“åº“ , æœ‰ dist,src ç›®å½•çš„"></a>å…ˆå» layui å®˜ç½‘,ä¸‹è½½æ•´ä¸ªä»“åº“ , æœ‰ dist,src ç›®å½•çš„</h3><p><a href="https://gitee.com/layui/layui">https://gitee.com/layui/layui</a></p><h3 id="æŠŠä¸‹è½½çš„-layui-æ”¾åˆ°å¦‚ä¸‹ç›®å½•"><a href="#æŠŠä¸‹è½½çš„-layui-æ”¾åˆ°å¦‚ä¸‹ç›®å½•" class="headerlink" title="æŠŠä¸‹è½½çš„ layui æ”¾åˆ°å¦‚ä¸‹ç›®å½•:"></a>æŠŠä¸‹è½½çš„ layui æ”¾åˆ°å¦‚ä¸‹ç›®å½•:</h3><blockquote><p>public&#x2F;libs&#x2F;layui</p></blockquote><h3 id="åœ¨ä¸‹é¢çš„æ–‡ä»¶é‡Œ-æ·»åŠ -layui-paths-å’Œ-shim-ä¸­åˆ†åˆ«æ·»åŠ "><a href="#åœ¨ä¸‹é¢çš„æ–‡ä»¶é‡Œ-æ·»åŠ -layui-paths-å’Œ-shim-ä¸­åˆ†åˆ«æ·»åŠ " class="headerlink" title="åœ¨ä¸‹é¢çš„æ–‡ä»¶é‡Œ,æ·»åŠ  layui,paths å’Œ shim ä¸­åˆ†åˆ«æ·»åŠ "></a>åœ¨ä¸‹é¢çš„æ–‡ä»¶é‡Œ,æ·»åŠ  layui,paths å’Œ shim ä¸­åˆ†åˆ«æ·»åŠ </h3><blockquote><p>public&#x2F;assets&#x2F;js&#x2F;require-backend.js</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span>.<span class="title function_">config</span>(&#123;</span><br><span class="line">  <span class="attr">paths</span>: &#123;</span><br><span class="line">    <span class="comment">//æ·»åŠ layui</span></span><br><span class="line">    <span class="attr">layui</span>: <span class="string">&quot;../libs/layui/src/layui&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// shimä¾èµ–é…ç½®</span></span><br><span class="line">  <span class="attr">shim</span>: &#123;</span><br><span class="line">    <span class="comment">//æ·»åŠ layui</span></span><br><span class="line">    <span class="attr">layui</span>: &#123;</span><br><span class="line">      <span class="attr">deps</span>: [<span class="string">&quot;css!../libs/layui/src/css/layui.css&quot;</span>],</span><br><span class="line">      <span class="attr">init</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åœ¨è¿™é‡Œinitäº†layui&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">layui</span>.<span class="title function_">config</span>(&#123; <span class="attr">dir</span>: <span class="string">&quot;/assets/libs/layui/src/&quot;</span> &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="ç›®æ ‡é¡µ-JS-è°ƒç”¨"><a href="#ç›®æ ‡é¡µ-JS-è°ƒç”¨" class="headerlink" title="ç›®æ ‡é¡µ JS è°ƒç”¨"></a>ç›®æ ‡é¡µ JS è°ƒç”¨</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">define</span>([<span class="string">&quot;jquery&quot;</span>, <span class="string">&quot;bootstrap&quot;</span>, <span class="string">&quot;backend&quot;</span>, <span class="string">&quot;form&quot;</span>, <span class="string">&quot;table&quot;</span>, <span class="string">&quot;layui&quot;</span>], <span class="keyword">function</span> (<span class="params"></span></span><br><span class="line"><span class="params">  $,</span></span><br><span class="line"><span class="params">  <span class="literal">undefined</span>,</span></span><br><span class="line"><span class="params">  Backend,</span></span><br><span class="line"><span class="params">  Form,</span></span><br><span class="line"><span class="params">  Table,</span></span><br><span class="line"><span class="params">  layui</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">Controller</span> = &#123;</span><br><span class="line">    <span class="attr">index</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">//åœ¨è¿™é‡Œè¿›è¡Œè°ƒç”¨</span></span><br><span class="line">      layui.<span class="title function_">use</span>([<span class="string">&quot;form&quot;</span>, <span class="string">&quot;upload&quot;</span>], <span class="keyword">function</span> (<span class="params">form, upload</span>) &#123;&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Controller</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¸€é”®å‹ç¼©æ‰“åŒ…å‰åå°çš„JSå’ŒCSS, æ ¹ç›®å½•ä¸­æ‰§è¡Œä¸‹é¢å‘½ä»¤å,åœ¨æµè§ˆå™¨æ¸…é™¤ç¼“å­˜åˆ·æ–°æ‰èƒ½ç”Ÿæ•ˆ</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">php think min -m all -r all</span><br></pre></td></tr></table></figure><h2 id="äºŒ-åŠ¨æ€å¼•å…¥"><a href="#äºŒ-åŠ¨æ€å¼•å…¥" class="headerlink" title="äºŒ:åŠ¨æ€å¼•å…¥"></a>äºŒ:åŠ¨æ€å¼•å…¥</h2><h3 id="é¦–å…ˆåœ¨public-assets-js-backend-init-jsä¸­å®šä¹‰ä¾èµ–é…ç½®"><a href="#é¦–å…ˆåœ¨public-assets-js-backend-init-jsä¸­å®šä¹‰ä¾èµ–é…ç½®" class="headerlink" title="é¦–å…ˆåœ¨public&#x2F;assets&#x2F;js&#x2F;backend-init.jsä¸­å®šä¹‰ä¾èµ–é…ç½®"></a>é¦–å…ˆåœ¨public&#x2F;assets&#x2F;js&#x2F;backend-init.jsä¸­å®šä¹‰ä¾èµ–é…ç½®</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">define</span>([<span class="string">&#x27;backend&#x27;</span>], <span class="keyword">function</span> (<span class="params">Backend</span>) &#123;</span><br><span class="line">    <span class="built_in">require</span>.<span class="title function_">config</span>(&#123;</span><br><span class="line">        <span class="attr">paths</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;layui&#x27;</span>: <span class="string">&#x27;../libs/layui/src/layui&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">shim</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;layui&#x27;</span>: &#123;</span><br><span class="line">                <span class="attr">deps</span>: [<span class="string">&#x27;css!../libs/layui/src/css/layui.css&#x27;</span>],</span><br><span class="line">                <span class="attr">init</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åœ¨è¿™é‡Œinitäº†layui&quot;</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">layui</span>.<span class="title function_">config</span>(&#123; <span class="attr">dir</span>: <span class="string">&#x27;/assets/libs/layui/src/&#x27;</span> &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="ç›®æ ‡é¡µ-JS-è°ƒç”¨-1"><a href="#ç›®æ ‡é¡µ-JS-è°ƒç”¨-1" class="headerlink" title="ç›®æ ‡é¡µ JS è°ƒç”¨"></a>ç›®æ ‡é¡µ JS è°ƒç”¨</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">define</span>([<span class="string">&quot;jquery&quot;</span>, <span class="string">&quot;bootstrap&quot;</span>, <span class="string">&quot;backend&quot;</span>, <span class="string">&quot;form&quot;</span>, <span class="string">&quot;table&quot;</span>, <span class="string">&quot;layui&quot;</span>], <span class="keyword">function</span> (<span class="params"></span></span><br><span class="line"><span class="params">  $,</span></span><br><span class="line"><span class="params">  <span class="literal">undefined</span>,</span></span><br><span class="line"><span class="params">  Backend,</span></span><br><span class="line"><span class="params">  Form,</span></span><br><span class="line"><span class="params">  Table,</span></span><br><span class="line"><span class="params">  layui</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">Controller</span> = &#123;</span><br><span class="line">    <span class="attr">index</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">//åœ¨è¿™é‡Œè¿›è¡Œè°ƒç”¨</span></span><br><span class="line">      <span class="built_in">require</span>([<span class="string">&quot;layui&quot;</span>], <span class="keyword">function</span> (<span class="params"><span class="literal">undefined</span></span>) &#123;</span><br><span class="line">        layui.<span class="title function_">use</span>([<span class="string">&quot;form&quot;</span>, <span class="string">&quot;upload&quot;</span>], <span class="keyword">function</span> (<span class="params">form, upload</span>) &#123;&#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Controller</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¸€é”®å‹ç¼©æ‰“åŒ…å‰åå°çš„JSå’ŒCSS, æ ¹ç›®å½•ä¸­æ‰§è¡Œä¸‹é¢å‘½ä»¤å,åœ¨æµè§ˆå™¨æ¸…é™¤ç¼“å­˜åˆ·æ–°æ‰èƒ½ç”Ÿæ•ˆ</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">php think min -m all -r all</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ç¬¬ä¸€ç§æ–¹å¼-å…¨å±€å¼•å…¥&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€ç§æ–¹å¼-å…¨å±€å¼•å…¥&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€ç§æ–¹å¼,å…¨å±€å¼•å…¥&quot;&gt;&lt;/a&gt;ç¬¬ä¸€ç§æ–¹å¼,å…¨å±€å¼•å…¥&lt;/h2&gt;&lt;h3 id=&quot;å…ˆå»-layui-å®˜ç½‘-ä¸‹è½½æ•´ä¸ªä»“åº“-æœ‰-dist-src-ç›®å½•çš„</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="php" scheme="https://harrywork.com/blog/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>Python æ–‡ä»¶å¤¹å†…æ–‡ä»¶ æ‰¹é‡æ‰“ä¹±é¡ºåºå,é‡æ–°æ’åº,æ‰¹é‡é‡å‘½å</title>
    <link href="https://harrywork.com/blog/p/2023PythonBatch/"/>
    <id>https://harrywork.com/blog/p/2023PythonBatch/</id>
    <published>2023-04-22T00:47:29.000Z</published>
    <updated>2024-04-07T01:02:03.653Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰‹å¤´æœ‰ä¸€ä¸ªå‡ ä¸‡å¼ å›¾ç‰‡éœ€è¦è¿›è¡Œæ‰“ä¹±é¡ºåº,å¹¶é‡æ–°å‘½å,ä½¿ç”¨pythonæ¥å®ç°</p><p>ç¬¬ä¸€æ­¥å…ˆå¯¹æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶æ‰¹é‡æ‰“ä¹±é¡ºåº</p><p>ç¬¬äºŒæ­¥é‡æ–°æ’åº</p><p>ç¬¬ä¸‰æ­¥æ‰¹é‡é‡å‘½å</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os ,random , time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rename</span>():</span><br><span class="line">    <span class="comment"># é…ç½®</span></span><br><span class="line">    <span class="comment">#æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">    filetype = <span class="string">&#x27;.png&#x27;</span></span><br><span class="line">    <span class="comment">#æ–‡ä»¶åå‰ç¼€</span></span><br><span class="line">    filename = <span class="string">&#x27;&#x27;</span>  </span><br><span class="line">    <span class="comment"># æ–‡ä»¶åä½æ•°,ä¸è¶³çš„å‰é¢è¡¥0</span></span><br><span class="line">    zfillNum = <span class="number">5</span></span><br><span class="line">    <span class="comment"># åœ¨è¿™é‡Œé…ç½®æ–‡ä»¶å¤¹åœ°å€</span></span><br><span class="line">    path = <span class="string">r&quot;C:\Users\xxxx\Desktop\test&quot;</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    filelist = os.listdir(path)   <span class="comment">#è¯¥æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼ˆåŒ…æ‹¬æ–‡ä»¶å¤¹ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#å…ˆæ‰“ä¹±é¡ºåº </span></span><br><span class="line">    random.shuffle(filelist)</span><br><span class="line">    <span class="keyword">for</span> files <span class="keyword">in</span> filelist:   <span class="comment">#éå†æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">        Olddir = os.path.join(path, files)    <span class="comment">#åŸæ¥çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(Olddir):       <span class="comment">#å¦‚æœæ˜¯æ–‡ä»¶å¤¹åˆ™è·³è¿‡</span></span><br><span class="line">                <span class="keyword">continue</span>   </span><br><span class="line">        filenameRes = <span class="built_in">str</span>(<span class="built_in">int</span>(time.time())+random.randint(<span class="number">1000000</span>,<span class="number">88888888</span>))</span><br><span class="line">        Newdir = os.path.join(path, filenameRes + filetype)   <span class="comment">#æ–°çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        os.rename(Olddir, Newdir)    <span class="comment">#é‡å‘½å</span></span><br><span class="line"></span><br><span class="line">    filelist = os.listdir(path)   <span class="comment">#è¯¥æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼ˆåŒ…æ‹¬æ–‡ä»¶å¤¹ï¼‰</span></span><br><span class="line">    <span class="keyword">for</span> files <span class="keyword">in</span> filelist:   <span class="comment">#éå†æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">        i = i + <span class="number">1</span></span><br><span class="line">        Olddir = os.path.join(path, files)    <span class="comment">#åŸæ¥çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(Olddir):       <span class="comment">#å¦‚æœæ˜¯æ–‡ä»¶å¤¹åˆ™è·³è¿‡</span></span><br><span class="line">                <span class="keyword">continue</span>   </span><br><span class="line">        filenameNum = <span class="built_in">str</span>(i).zfill(zfillNum)</span><br><span class="line">        filenameRes = filename+filenameNum</span><br><span class="line">        Newdir = os.path.join(path, filenameRes + filetype)   <span class="comment">#æ–°çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        os.rename(Olddir, Newdir)    <span class="comment">#é‡å‘½å</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    rename()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ‰‹å¤´æœ‰ä¸€ä¸ªå‡ ä¸‡å¼ å›¾ç‰‡éœ€è¦è¿›è¡Œæ‰“ä¹±é¡ºåº,å¹¶é‡æ–°å‘½å,ä½¿ç”¨pythonæ¥å®ç°&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥å…ˆå¯¹æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶æ‰¹é‡æ‰“ä¹±é¡ºåº&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ­¥é‡æ–°æ’åº&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥æ‰¹é‡é‡å‘½å&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="python" scheme="https://harrywork.com/blog/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>VCARDæ‰‹æœºç›¸æœºæ‰«ç æˆ–å¾®ä¿¡æ‰«ç ,ç›´æ¥ä¿å­˜åˆ°é€šè®¯å½•</title>
    <link href="https://harrywork.com/blog/p/2023SaveVCARD/"/>
    <id>https://harrywork.com/blog/p/2023SaveVCARD/</id>
    <published>2023-04-20T00:47:29.000Z</published>
    <updated>2024-04-07T01:02:03.653Z</updated>
    
    <content type="html"><![CDATA[<p>VCARDæ‰‹æœºç›¸æœºæ‰«ç æˆ–å¾®ä¿¡æ‰«ç ,ç›´æ¥ä¿å­˜åˆ°é€šè®¯å½•<br>å°†ä»¥ä¸‹å†…å®¹ç”ŸæˆäºŒç»´ç , ä½¿ç”¨æ‰‹æœºæ‰«ç æ—¶å°†è‡ªåŠ¨å¼¹å‡ºä¿å­˜é€šè®¯å½•,å…¼å®¹Android&#x2F;IOS</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BEGIN:VCARD</span><br><span class="line"></span><br><span class="line">VERSION:3.0</span><br><span class="line"></span><br><span class="line">N:åå­—</span><br><span class="line"></span><br><span class="line">ORG:å…¬å¸åå­—</span><br><span class="line"></span><br><span class="line">TITLE:èŒä½æ–°äººç ”å‘</span><br><span class="line"></span><br><span class="line">TEL;TYPE=WORK:18888886686</span><br><span class="line"></span><br><span class="line">TEL;TYPE=HOME:18888888888</span><br><span class="line"></span><br><span class="line">ADR;TYPE=HOME:;;åœ°å€1;;;;</span><br><span class="line"></span><br><span class="line">LABEL;TYPE=HOME:åœ°å€2</span><br><span class="line"></span><br><span class="line">,  </span><br><span class="line"></span><br><span class="line">EMAIL:email@gmail.com</span><br><span class="line"></span><br><span class="line">URL:www.abc.com</span><br><span class="line"></span><br><span class="line">BDAY:2023-04-23</span><br><span class="line"></span><br><span class="line">REV:2023-04-23T01:21:04Z</span><br><span class="line"></span><br><span class="line">END:VCARD</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;VCARDæ‰‹æœºç›¸æœºæ‰«ç æˆ–å¾®ä¿¡æ‰«ç ,ç›´æ¥ä¿å­˜åˆ°é€šè®¯å½•&lt;br&gt;å°†ä»¥ä¸‹å†…å®¹ç”ŸæˆäºŒç»´ç , ä½¿ç”¨æ‰‹æœºæ‰«ç æ—¶å°†è‡ªåŠ¨å¼¹å‡ºä¿å­˜é€šè®¯å½•,å…¼å®¹Android&amp;#x2F;IOS&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td clas</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="å‰ç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="vcard" scheme="https://harrywork.com/blog/tags/vcard/"/>
    
  </entry>
  
  <entry>
    <title>electron è§£å†³socketç«¯å£è¢«å ç”¨é—®é¢˜ å¯åŠ¨socketæœåŠ¡,è‡ªåŠ¨å°è¯•å¯ç”¨æ¥å£</title>
    <link href="https://harrywork.com/blog/p/2023OElectron/"/>
    <id>https://harrywork.com/blog/p/2023OElectron/</id>
    <published>2023-04-13T00:47:29.000Z</published>
    <updated>2024-04-07T01:02:03.654Z</updated>
    
    <content type="html"><![CDATA[<p>åŸç†æ˜¯æœ¬åœ°å†™ä¸€ä¸ªconfig.json,æŠŠåˆå§‹ç«¯å£æ”¾è¿›å»,æ¯æ¬¡å¯åŠ¨electronçš„socketæœåŠ¡æ—¶å¦‚æœå‘ç°ç«¯å£è¢«å ç”¨,å°±æ›´æ–°config.jsoné‡Œçš„ç«¯å£å·åŠ 1,å¹¶ä¿å­˜åˆ°config.json,ç„¶åé€€å‡ºå¹¶é‡å¯electron,ç›´åˆ°æ‰¾åˆ°å¯ç”¨çš„ç«¯å£</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;port&quot;</span><span class="punctuation">:</span><span class="number">1081</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; app, <span class="title class_">BrowserWindow</span>, protocol, dialog &#125; = <span class="built_in">require</span>(<span class="string">&quot;electron&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Menu</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;electron&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> myMenu = <span class="built_in">require</span>(<span class="string">&quot;./src/menu.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">WebSocket</span> = <span class="built_in">require</span>(<span class="string">&quot;ws&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="comment">//wssé€šè®¯æœåŠ¡</span></span><br><span class="line">  <span class="keyword">let</span> wss = &#123;&#125;;</span><br><span class="line">  <span class="title function_">openWs</span>();</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">openWs</span>(<span class="params"></span>) &#123;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(<span class="string">&quot;config.json&quot;</span>, <span class="string">&quot;utf-8&quot;</span>, <span class="function">(<span class="params">err, configFileDataRes</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        dialog.<span class="title function_">showMessageBox</span>(&#123;</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&quot;info&quot;</span>,</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&quot;è¯»å–é…ç½®æ–‡ä»¶å¤±è´¥&quot;</span>,</span><br><span class="line">          <span class="attr">message</span>: <span class="string">&quot;è¯·é‡æ–°å®‰è£…&quot;</span>,</span><br><span class="line">          <span class="attr">detail</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(err),</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> configFileData = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(configFileDataRes);</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        wss = <span class="keyword">new</span> <span class="title class_">WebSocket</span>.<span class="title class_">Server</span>(&#123; <span class="attr">port</span>: configFileData.<span class="property">port</span> &#125;);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åˆ›å»ºwebSocketå¤±è´¥:&quot;</span>, error);</span><br><span class="line">      &#125;</span><br><span class="line">      wss.<span class="title function_">on</span>(<span class="string">&quot;connection&quot;</span>, <span class="function">(<span class="params">ws</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(ws, configFileData.<span class="property">port</span> + <span class="string">&quot;æˆåŠŸäº†&quot;</span>);</span><br><span class="line">        <span class="comment">/** è°ƒç”¨åŸç”Ÿelectronæ¥å£</span></span><br><span class="line"><span class="comment">         * &#123;&quot;type&quot;:&quot;open_page&quot;,&quot;src&quot;:&quot;pages/play/index.html&quot;,&quot;big&quot;:true&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        ws.<span class="title function_">on</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">message</span>) =&gt;</span> &#123;</span><br><span class="line">          message = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(message);</span><br><span class="line">          <span class="keyword">if</span> (message.<span class="property">type</span> == <span class="string">&quot;open_page&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> win = <span class="keyword">new</span> <span class="title class_">BrowserWindow</span>();</span><br><span class="line">            win.<span class="title function_">loadFile</span>(message.<span class="property">src</span>);</span><br><span class="line">            win.<span class="property">webContents</span>.<span class="title function_">openDevTools</span>(&#123; <span class="attr">mode</span>: <span class="string">&quot;detach&quot;</span> &#125;);</span><br><span class="line">            <span class="keyword">if</span> (message.<span class="property">big</span>) &#123;</span><br><span class="line">              win.<span class="title function_">maximize</span>();</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        ws.<span class="title function_">send</span>(<span class="string">&quot;something&quot;</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">      wss.<span class="title function_">on</span>(<span class="string">&quot;error&quot;</span>, <span class="function">(<span class="params">ws</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">storeData</span>(&#123; <span class="attr">port</span>: <span class="built_in">parseInt</span>(configFileData.<span class="property">port</span>) + <span class="number">1</span> &#125;, <span class="string">&quot;config.json&quot;</span>);</span><br><span class="line">        app.<span class="title function_">exit</span>();</span><br><span class="line">        app.<span class="title function_">relaunch</span>();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// /wssé€šè®¯æœåŠ¡</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åŸç†æ˜¯æœ¬åœ°å†™ä¸€ä¸ªconfig.json,æŠŠåˆå§‹ç«¯å£æ”¾è¿›å»,æ¯æ¬¡å¯åŠ¨electronçš„socketæœåŠ¡æ—¶å¦‚æœå‘ç°ç«¯å£è¢«å ç”¨,å°±æ›´æ–°config.jsoné‡Œçš„ç«¯å£å·åŠ 1,å¹¶ä¿å­˜åˆ°config.json,ç„¶åé€€å‡ºå¹¶é‡å¯electron,ç›´åˆ°æ‰¾åˆ°å¯ç”¨çš„ç«¯å£&lt;/p&gt;
&lt;figure </summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="å‰ç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="electron" scheme="https://harrywork.com/blog/tags/electron/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€æ¬¡å‚åŠ åŠé©¬</title>
    <link href="https://harrywork.com/blog/p/2023Myfirsttimeparticipating/"/>
    <id>https://harrywork.com/blog/p/2023Myfirsttimeparticipating/</id>
    <published>2023-03-19T04:50:31.000Z</published>
    <updated>2024-04-07T01:02:03.660Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™å‘¨æœ«å’Œå¥³æœ‹å‹ä¸€èµ·å‚åŠ åŠé©¬,é’å²›è¥¿æµ·å²¸é£æ™¯çœŸä¸é”™,æ–°é“ºçš„é©¬è·¯è´¼å®½æ•,ä¸ƒç‚¹å¤šå°±å¼€å§‹äº¤é€šç®¡åˆ¶äº†,æˆ‘ä»¬åªèƒ½æ‰“è½¦åˆ°é™„è¿‘ç„¶åèµ°è¿‡å» </p><p>æ¯”èµ›ç°åœºå¾ˆçƒ­é—¹,æ²¡æ–‡åŒ–çš„æˆ‘ç°åœºåªèƒ½æ¥ä¸€å¥åªèƒ½æ¥ä¸€å¥äººå¥½å¤šå•Š,æ°”æ°›çœŸçš„å¾ˆå¥½,èœè…¿ç¬¬ä¸€æ¬¡å‚åŠ æ²¡æ•¢ç›´æ¥æŠ¥ååŠé©¬,æŠ¥äº†äº”å…¬é‡Œå¥åº·è·‘ğŸ˜„</p><p>åšæŒä¸æ‡ˆçš„é’æ˜¥ä¸‡å²  åŠ æ²¹ğŸ’ªå¥¥åŠ›ç»™ </p><div class="gallery-container" data-type="data" data-button="" data-limit="10" data-first="10">    <div class="gallery-items">[{"url":"https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2023/1%20%281%29.jpg","alt":"","title":""},{"url":"https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2023/1%20%282%29.jpg","alt":"","title":""},{"url":"https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2023/1%20%283%29.jpg","alt":"","title":""},{"url":"https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2023/1%20%284%29.jpg","alt":"","title":""},{"url":"https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2023/1%20%285%29.jpg","alt":"","title":""},{"url":"https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2023/1%20%286%29.jpg","alt":"","title":""},{"url":"https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2023/1%20%287%29.jpg","alt":"","title":""},{"url":"https://ihogu-1251903635.cos.ap-shanghai.myqcloud.com/site/blog/img/2023/1%20%288%29.jpg","alt":"","title":""}]</div>  </div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿™å‘¨æœ«å’Œå¥³æœ‹å‹ä¸€èµ·å‚åŠ åŠé©¬,é’å²›è¥¿æµ·å²¸é£æ™¯çœŸä¸é”™,æ–°é“ºçš„é©¬è·¯è´¼å®½æ•,ä¸ƒç‚¹å¤šå°±å¼€å§‹äº¤é€šç®¡åˆ¶äº†,æˆ‘ä»¬åªèƒ½æ‰“è½¦åˆ°é™„è¿‘ç„¶åèµ°è¿‡å» &lt;/p&gt;
&lt;p&gt;æ¯”èµ›ç°åœºå¾ˆçƒ­é—¹,æ²¡æ–‡åŒ–çš„æˆ‘ç°åœºåªèƒ½æ¥ä¸€å¥åªèƒ½æ¥ä¸€å¥äººå¥½å¤šå•Š,æ°”æ°›çœŸçš„å¾ˆå¥½,èœè…¿ç¬¬ä¸€æ¬¡å‚åŠ æ²¡æ•¢ç›´æ¥æŠ¥ååŠé©¬,æŠ¥äº†äº”å…¬é‡Œå¥åº·è·‘ğŸ˜„&lt;/p&gt;
</summary>
      
    
    
    
    <category term="éšç¬”" scheme="https://harrywork.com/blog/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="é©¬æ‹‰æ¾" scheme="https://harrywork.com/blog/tags/%E9%A9%AC%E6%8B%89%E6%9D%BE/"/>
    
    <category term="è·‘æ­¥" scheme="https://harrywork.com/blog/tags/%E8%B7%91%E6%AD%A5/"/>
    
  </entry>
  
  <entry>
    <title>JSé£å…¥é£å‡ºåŠ¨ç”» åŠ é€ŸåŠ¨ç”» æ¢å…¥æ¢å‡ºæ•ˆæœ</title>
    <link href="https://harrywork.com/blog/p/2023JSFlying/"/>
    <id>https://harrywork.com/blog/p/2023JSFlying/</id>
    <published>2023-03-14T01:47:29.000Z</published>
    <updated>2024-04-07T01:02:03.651Z</updated>
    
    <content type="html"><![CDATA[<p>JSé£å…¥é£å‡ºåŠ¨ç”» åŠ é€ŸåŠ¨ç”» æ¢å…¥æ¢å‡ºæ•ˆæœ</p><p>åœ¨çº¿é¢„è§ˆ <a href="/my/demo/fly.html">&#x2F;my&#x2F;demo&#x2F;fly.html</a> online visit </p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;gift-fly&quot;</span> <span class="attr">style</span>=<span class="string">&quot; position: absolute; width: 50px;height: 50px;background-color: #327dff &quot;</span>&gt;</span> åŠ¨ç”»ç›’å­<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> flyDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;gift-fly&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">animate</span>(flyDiv, &#123;<span class="string">&quot;left&quot;</span>: <span class="number">500</span>&#125;, <span class="number">3000</span>, <span class="string">&quot;easeIn&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é£å…¥åŠ¨ç”»æ‰§è¡Œå®Œäº†&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">animate</span>(flyDiv, &#123;<span class="string">&quot;left&quot;</span>: <span class="number">0</span>&#125;, <span class="number">3000</span>, <span class="string">&quot;easeOut&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é£å‡ºåŠ¨ç”»æ‰§è¡Œå®Œäº†&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@param</span> elem &#123;HTMLElement&#125; æ‰§è¡ŒåŠ¨ç”»çš„HTMLå…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@param</span> params &#123;JSON&#125; åŠ¨ç”»æ‰§è¡Œè¿‡è¿‡ç¨‹ä¸­éœ€è¦ä¿®æ”¹çš„HTMLå±æ€§</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@param</span> duration &#123;Number&#125; å¯é€‰ï¼ŒåŠ¨ç”»æ‰§è¡Œæ—¶é—´ï¼Œå•ä½æ¯«ç§’</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@param</span> easing &#123;String&#125; å¯é€‰ï¼ŒåŠ¨ç”»æ‰§è¡Œçš„æ–¹å¼ï¼Œç¼“å…¥easeInã€ç¼“å‡ºeaseOut</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     */</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params">elem, params, duration, easing</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">success</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * æè¿°: tweenåŠ¨ç”»ç®—æ³•ã€‚</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * @param Number t: åŠ¨ç”»å·²ç»æ‰§è¡Œçš„æ—¶é—´ï¼ˆå®é™…ä¸Šæ—¶æ‰§è¡Œå¤šå°‘æ¬¡/å¸§æ•°ï¼‰</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * @param Number b: èµ·å§‹ä½ç½®</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * @param Number c: ç»ˆæ­¢ä½ç½®</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * @param Number d: ä»èµ·å§‹ä½ç½®åˆ°ç»ˆæ­¢ä½ç½®çš„ç»è¿‡æ—¶é—´ï¼ˆå®é™…ä¸Šæ—¶æ‰§è¡Œå¤šå°‘æ¬¡/å¸§æ•°ï¼‰</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             */</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> tween = &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">easeIn</span>: <span class="keyword">function</span> (<span class="params">t, b, c, d</span>) &#123;<span class="comment">//ç¼“å…¥</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> c * (t /= d) * t + b;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">easeOut</span>: <span class="keyword">function</span> (<span class="params">t, b, c, d</span>) &#123;<span class="comment">//ç¼“å‡º</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> -c * (t /= d) * (t - <span class="number">2</span>) + b;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> attribute = &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params">elem, attr</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> val;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (elem.<span class="property">currentStyle</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (attr === <span class="string">&quot;opacity&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            val = elem.<span class="property">filters</span>.<span class="property">alpha</span>[attr];</span></span><br><span class="line"><span class="language-javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            val = elem.<span class="property">currentStyle</span>[attr];</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        val = <span class="title function_">getComputedStyle</span>(elem)[attr];</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (attr === <span class="string">&quot;opacity&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            val = <span class="number">100</span> * val;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> val;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">elem, attr, val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (attr == <span class="string">&#x27;opacity&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        elem.<span class="property">style</span>.<span class="property">filter</span> = <span class="string">&#x27;alpha(opacity=&#x27;</span> + (val) + <span class="string">&#x27;)&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                        elem.<span class="property">style</span>.<span class="property">opacity</span> = (val) / <span class="number">100</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        elem.<span class="property">style</span>[attr] = val + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> effect = &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">animate</span>: <span class="keyword">function</span> (<span class="params">elem, params, duration, easing</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(),</span></span><br><span class="line"><span class="language-javascript">                        b = <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                        c = <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                        d = duration || <span class="number">500</span>,</span></span><br><span class="line"><span class="language-javascript">                        fps = <span class="number">1000</span> / <span class="number">60</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> changes = [];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> attr <span class="keyword">in</span> params) &#123;</span></span><br><span class="line"><span class="language-javascript">                        b = <span class="built_in">parseFloat</span>(attribute.<span class="title function_">get</span>(elem, attr));</span></span><br><span class="line"><span class="language-javascript">                        c = params[attr] - b;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        changes.<span class="title function_">push</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">attr</span>: attr,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">b</span>: b,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">c</span>: c</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    easing = easing || <span class="string">&quot;easeOut&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">let</span> t = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>() - dt;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">let</span> b, c, attr;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; changes.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                            b = changes[i].<span class="property">b</span>;</span></span><br><span class="line"><span class="language-javascript">                            c = changes[i].<span class="property">c</span>;</span></span><br><span class="line"><span class="language-javascript">                            attr = changes[i].<span class="property">attr</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            attribute.<span class="title function_">set</span>(elem, attr, tween[easing](t, b, c, d));</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (d &lt;= t) &#123;</span></span><br><span class="line"><span class="language-javascript">                                attribute.<span class="title function_">set</span>(elem, attr, params[attr]);</span></span><br><span class="line"><span class="language-javascript">                                <span class="title function_">success</span>();</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        <span class="built_in">setTimeout</span>(<span class="variable language_">arguments</span>.<span class="property">callee</span>, fps);</span></span><br><span class="line"><span class="language-javascript">                    &#125;, fps);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            effect.<span class="title function_">animate</span>(elem, params, duration, easing);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">JSé£å…¥é£å‡ºåŠ¨ç”» åŠ é€ŸåŠ¨ç”» æ¢å…¥æ¢å‡ºæ•ˆæœ  * @param elem {HTMLElement} æ‰§è¡ŒåŠ¨ç”»çš„HTMLå…ƒç´  * @param params {JSON} åŠ¨ç”»æ‰§è¡Œè¿‡è¿‡ç¨‹ä¸­éœ€è¦ä¿®æ”¹çš„HTMLå±æ€§  * @param duration {Number} å¯é€‰ï¼ŒåŠ¨ç”»æ‰§è¡Œæ—¶é—´ï¼Œå•ä½æ¯«ç§’   * @param easing {String} å¯é€‰ï¼ŒåŠ¨ç”»æ‰§è¡Œçš„æ–¹å¼ï¼Œç¼“å…¥easeInã€ç¼“å‡ºeaseOut</summary>
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="å‰ç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="JS" scheme="https://harrywork.com/blog/tags/JS/"/>
    
  </entry>
  
  <entry>
    <title>Goæ’åºç»“æ„ä½“structä¸­å­—æ®µæå‡æ€§èƒ½,é™ä½å†…å­˜ä½¿ç”¨ç‡</title>
    <link href="https://harrywork.com/blog/p/2023PerformanceOptimization/"/>
    <id>https://harrywork.com/blog/p/2023PerformanceOptimization/</id>
    <published>2023-03-13T00:47:29.000Z</published>
    <updated>2024-04-07T01:02:03.655Z</updated>
    
    <content type="html"><![CDATA[<p>å°†ç¬¬ä¸€ä¸ªstructæ”¹å†™ä¸ºç¬¬äºŒç§å¯ä»¥é€šè¿‡æ’åºç»“æ„ä½“structä¸­å­—æ®µæå‡æ€§èƒ½,é™ä½å†…å­˜ä½¿ç”¨ç‡</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> BadStruct <span class="keyword">struct</span> &#123;</span><br><span class="line">    age          <span class="type">uint8</span></span><br><span class="line">    IdCardNumber <span class="type">uint64</span></span><br><span class="line">    DateOfBirth  <span class="type">uint16</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> GoodStruct <span class="keyword">struct</span> &#123;</span><br><span class="line">    age          <span class="type">uint8</span></span><br><span class="line">    DateOfBirth  <span class="type">uint16</span></span><br><span class="line">    IdCardNumber <span class="type">uint64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å°†ç¬¬ä¸€ä¸ªstructæ”¹å†™ä¸ºç¬¬äºŒç§å¯ä»¥é€šè¿‡æ’åºç»“æ„ä½“structä¸­å­—æ®µæå‡æ€§èƒ½,é™ä½å†…å­˜ä½¿ç”¨ç‡&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="go" scheme="https://harrywork.com/blog/tags/go/"/>
    
    <category term="struct" scheme="https://harrywork.com/blog/tags/struct/"/>
    
  </entry>
  
  <entry>
    <title>go ioutilåŒ…1.16èµ·å¼ƒç”¨ ä½¿ç”¨ioåŒ…ä»£æ›¿</title>
    <link href="https://harrywork.com/blog/p/2022GoioutilPackage/"/>
    <id>https://harrywork.com/blog/p/2022GoioutilPackage/</id>
    <published>2022-11-13T13:12:04.000Z</published>
    <updated>2024-04-07T01:02:03.645Z</updated>
    
    <content type="html"><![CDATA[<p>20 å¹´ 10 æœˆä»½ï¼ŒGo æŒèˆµäºº Russ Cox å·²ç»æœ‰åºŸå¼ƒ ioutil åŒ…çš„ææ¡ˆ[1]ï¼ŒåºŸå¼ƒåŸå› æ˜¯:io&#x2F;ioutil, like most things with util in the name, has turned out to be a poorly defined and hard to understand collection of things.</p><p>åç»­çš„å‡ æ¬¡ä»£ç æäº¤ä¹Ÿè¯å®äº†è¿™ä¸€ç‚¹ï¼Œä» Go 1.16 å¼€å§‹ä¼šåºŸå¼ƒ io&#x2F;ioutil åŒ…ï¼Œç›¸å…³çš„åŠŸèƒ½ä¼šæŒªåˆ° io åŒ…æˆ– os åŒ…</p><p>ç›¸å…³è¿æ¥ <a href="https://github.com/go-critic/go-critic/issues/1019">https://github.com/go-critic/go-critic/issues/1019</a></p><p>ä¾‹å¦‚ ioutil.NopCloseræ–¹æ³•, æ”¹ä¸ºio.NopCloseræ–¹æ³•å³å¯</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;20 å¹´ 10 æœˆä»½ï¼ŒGo æŒèˆµäºº Russ Cox å·²ç»æœ‰åºŸå¼ƒ ioutil åŒ…çš„ææ¡ˆ[1]ï¼ŒåºŸå¼ƒåŸå› æ˜¯:io&amp;#x2F;ioutil, like most things with util in the name, has turned out to be a poor</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="go" scheme="https://harrywork.com/blog/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>go sha256withRSAç­¾å base64</title>
    <link href="https://harrywork.com/blog/p/2022Gosha256/"/>
    <id>https://harrywork.com/blog/p/2022Gosha256/</id>
    <published>2022-11-10T13:12:04.000Z</published>
    <updated>2024-04-07T01:02:03.648Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> utils</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;crypto&quot;</span></span><br><span class="line"><span class="string">&quot;crypto/rand&quot;</span></span><br><span class="line"><span class="string">&quot;crypto/rsa&quot;</span></span><br><span class="line"><span class="string">&quot;crypto/sha256&quot;</span></span><br><span class="line"><span class="string">&quot;crypto/x509&quot;</span></span><br><span class="line"><span class="string">&quot;encoding/base64&quot;</span></span><br><span class="line"><span class="string">&quot;encoding/pem&quot;</span></span><br><span class="line"><span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**å®ä¾‹</span></span><br><span class="line"><span class="comment">//ç”Ÿæˆå¯†é’¥æ–‡ä»¶</span></span><br><span class="line"><span class="comment">GenerateRSAKey(2048)</span></span><br><span class="line"><span class="comment">//æ¨¡æ‹Ÿå‘é€æ–¹</span></span><br><span class="line"><span class="comment">//è¦å‘é€çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">msg := []byte(&quot;hello world&quot;)</span></span><br><span class="line"><span class="comment">//ç”Ÿæˆç­¾å</span></span><br><span class="line"><span class="comment">sign := GetSign(msg, &quot;private.pem&quot;)</span></span><br><span class="line"><span class="comment">fmt.Println(&quot;signlen lenlen&quot;, string(sign))</span></span><br><span class="line"><span class="comment">//æ¨¡æ‹Ÿæ¥æ”¶æ–¹</span></span><br><span class="line"><span class="comment">//æ¥å—åˆ°çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">acceptmsg := []byte(&quot;hello world&quot;)</span></span><br><span class="line"><span class="comment">//æ¥å—åˆ°çš„ç­¾å</span></span><br><span class="line"><span class="comment">acceptsign := sign</span></span><br><span class="line"><span class="comment">//éªŒè¯ç­¾å</span></span><br><span class="line"><span class="comment">result := VerifySign(acceptmsg, acceptsign, &quot;public.pem&quot;)</span></span><br><span class="line"><span class="comment">fmt.Println(&quot;éªŒè¯ç»“æœï¼š&quot;, result)</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”ŸæˆRSAç§é’¥å’Œå…¬é’¥ï¼Œä¿å­˜åˆ°æ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GenerateRSAKey</span><span class="params">(bits <span class="type">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">//GenerateKeyå‡½æ•°ä½¿ç”¨éšæœºæ•°æ®ç”Ÿæˆå™¨randomç”Ÿæˆä¸€å¯¹å…·æœ‰æŒ‡å®šå­—ä½æ•°çš„RSAå¯†é’¥</span></span><br><span class="line"><span class="comment">//Readeræ˜¯ä¸€ä¸ªå…¨å±€ã€å…±äº«çš„å¯†ç ç”¨å¼ºéšæœºæ•°ç”Ÿæˆå™¨</span></span><br><span class="line">privateKey, err := rsa.GenerateKey(rand.Reader, bits)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¿å­˜ç§é’¥</span></span><br><span class="line"><span class="comment">//é€šè¿‡x509æ ‡å‡†å°†å¾—åˆ°çš„rasç§é’¥åºåˆ—åŒ–ä¸ºASN.1 çš„ DERç¼–ç å­—ç¬¦ä¸²</span></span><br><span class="line">X509PrivateKey := x509.MarshalPKCS1PrivateKey(privateKey)</span><br><span class="line"><span class="comment">//ä½¿ç”¨pemæ ¼å¼å¯¹x509è¾“å‡ºçš„å†…å®¹è¿›è¡Œç¼–ç </span></span><br><span class="line"><span class="comment">//åˆ›å»ºæ–‡ä»¶ä¿å­˜ç§é’¥</span></span><br><span class="line">privateFile, err := os.Create(<span class="string">&quot;private.pem&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> privateFile.Close()</span><br><span class="line"><span class="comment">//æ„å»ºä¸€ä¸ªpem.Blockç»“æ„ä½“å¯¹è±¡</span></span><br><span class="line">privateBlock := pem.Block&#123;Type: <span class="string">&quot;RSA Private Key&quot;</span>, Bytes: X509PrivateKey&#125;</span><br><span class="line"><span class="comment">//å°†æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶</span></span><br><span class="line">pem.Encode(privateFile, &amp;privateBlock)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿å­˜å…¬é’¥</span></span><br><span class="line"><span class="comment">//è·å–å…¬é’¥çš„æ•°æ®</span></span><br><span class="line">publicKey := privateKey.PublicKey</span><br><span class="line"><span class="comment">//X509å¯¹å…¬é’¥ç¼–ç </span></span><br><span class="line">X509PublicKey, err := x509.MarshalPKIXPublicKey(&amp;publicKey)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//pemæ ¼å¼ç¼–ç </span></span><br><span class="line"><span class="comment">//åˆ›å»ºç”¨äºä¿å­˜å…¬é’¥çš„æ–‡ä»¶</span></span><br><span class="line">publicFile, err := os.Create(<span class="string">&quot;public.pem&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> publicFile.Close()</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªpem.Blockç»“æ„ä½“å¯¹è±¡</span></span><br><span class="line">publicBlock := pem.Block&#123;Type: <span class="string">&quot;RSA Public Key&quot;</span>, Bytes: X509PublicKey&#125;</span><br><span class="line"><span class="comment">//ä¿å­˜åˆ°æ–‡ä»¶</span></span><br><span class="line">pem.Encode(publicFile, &amp;publicBlock)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–RSAç§é’¥</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetRSAPrivateKey</span><span class="params">(path <span class="type">string</span>)</span></span> *rsa.PrivateKey &#123;</span><br><span class="line"><span class="comment">//è¯»å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line">file, err := os.Open(path)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> file.Close()</span><br><span class="line">info, _ := file.Stat()</span><br><span class="line">buf := <span class="built_in">make</span>([]<span class="type">byte</span>, info.Size())</span><br><span class="line">file.Read(buf)</span><br><span class="line"><span class="comment">//pemè§£ç </span></span><br><span class="line">block, _ := pem.Decode(buf)</span><br><span class="line"><span class="comment">//X509è§£ç </span></span><br><span class="line">privateKey, err := x509.ParsePKCS1PrivateKey(block.Bytes)</span><br><span class="line"><span class="keyword">return</span> privateKey</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–RSAå…¬é’¥</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetRSAPublicKey</span><span class="params">(path <span class="type">string</span>)</span></span> *rsa.PublicKey &#123;</span><br><span class="line"><span class="comment">//è¯»å–å…¬é’¥å†…å®¹</span></span><br><span class="line">file, err := os.Open(path)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> file.Close()</span><br><span class="line">info, _ := file.Stat()</span><br><span class="line">buf := <span class="built_in">make</span>([]<span class="type">byte</span>, info.Size())</span><br><span class="line">file.Read(buf)</span><br><span class="line"><span class="comment">//pemè§£ç </span></span><br><span class="line">block, _ := pem.Decode(buf)</span><br><span class="line"><span class="comment">//x509è§£ç </span></span><br><span class="line">publicKeyInterface, err := x509.ParsePKIXPublicKey(block.Bytes)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">publicKey := publicKeyInterface.(*rsa.PublicKey)</span><br><span class="line"><span class="keyword">return</span> publicKey</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹æ¶ˆæ¯çš„æ•£åˆ—å€¼è¿›è¡Œæ•°å­—ç­¾å</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetSign</span><span class="params">(msg []<span class="type">byte</span>, path <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="comment">//å–å¾—ç§é’¥</span></span><br><span class="line">privateKey := GetRSAPrivateKey(path)</span><br><span class="line"><span class="comment">//è®¡ç®—æ•£åˆ—å€¼</span></span><br><span class="line">hash := sha256.New()</span><br><span class="line">hash.Write(msg)</span><br><span class="line">bytes := hash.Sum(<span class="literal">nil</span>)</span><br><span class="line"><span class="comment">//SignPKCS1v15ä½¿ç”¨RSA PKCS#1 v1.5è§„å®šçš„RSASSA-PKCS1-V1_5-SIGNç­¾åæ–¹æ¡ˆè®¡ç®—ç­¾å</span></span><br><span class="line">sign, err := rsa.SignPKCS1v15(rand.Reader, privateKey, crypto.SHA256, bytes)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(sign)</span><br><span class="line">&#125;</span><br><span class="line">signStr := base64.StdEncoding.EncodeToString(sign)</span><br><span class="line"><span class="keyword">return</span> signStr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯æ•°å­—ç­¾å</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">VerifySign</span><span class="params">(msg []<span class="type">byte</span>, sign <span class="type">string</span>, path <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"><span class="comment">//å–å¾—å…¬é’¥</span></span><br><span class="line">publicKey := GetRSAPublicKey(path)</span><br><span class="line"><span class="comment">//è®¡ç®—æ¶ˆæ¯æ•£åˆ—å€¼</span></span><br><span class="line">hash := sha256.New()</span><br><span class="line">hash.Write(msg)</span><br><span class="line">bytes := hash.Sum(<span class="literal">nil</span>)</span><br><span class="line"><span class="comment">//éªŒè¯æ•°å­—ç­¾å</span></span><br><span class="line">signBaseDe, _ := base64.StdEncoding.DecodeString(sign)</span><br><span class="line">err := rsa.VerifyPKCS1v15(publicKey, crypto.SHA256, bytes, signBaseDe)</span><br><span class="line"><span class="keyword">return</span> err == <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ç”Ÿæˆå¯†é’¥æ–‡ä»¶GenerateRSAKey(2048)//æ¨¡æ‹Ÿå‘é€æ–¹//è¦å‘é€çš„æ¶ˆæ¯msg := []byte(&quot;hello world&quot;)//ç”Ÿæˆç­¾åsign := GetSign(msg, &quot;private.pem&quot;)fmt.Println(&quot;signlen lenlen&quot;, string(sign))//æ¨¡æ‹Ÿæ¥æ”¶æ–¹//æ¥å—åˆ°çš„æ¶ˆæ¯acceptmsg := []byte(&quot;hello world&quot;)//æ¥å—åˆ°çš„ç­¾åacceptsign := sign//éªŒè¯ç­¾åresult := VerifySign(acceptmsg, acceptsign, &quot;public.pem&quot;)fmt.Println(&quot;éªŒè¯ç»“æœï¼š&quot;, result)</summary>
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="go" scheme="https://harrywork.com/blog/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>goç¬¬äºŒæ¬¡è·å–bodyè·å–ä¸åˆ°é—®é¢˜</title>
    <link href="https://harrywork.com/blog/p/2022RetrievalinGo/"/>
    <id>https://harrywork.com/blog/p/2022RetrievalinGo/</id>
    <published>2022-11-01T13:12:04.000Z</published>
    <updated>2024-04-07T01:02:03.649Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨os.ReadAll(r.Body)æ–¹æ³•å,éœ€è¦æ‰§è¡Œä¸‹é¢æ–¹æ³•,å°†bodyé‡æ–°å†™å›å»</p><figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">ctx.Request.Body = io.NopCloser(bytes.NewBuffer(signStrByte)) <span class="comment">// æŠŠbodyå†å†™å›å»,ä¸ç„¶åˆ«çš„åœ°æ–¹å–ä¸åˆ°</span></span><br></pre></td></tr></table></figure><p>ç»å®è·µå‘ç° ä½¿ç”¨gin.Context.Bindxxxç›¸å…³æ–¹æ³• ,ä¹Ÿéœ€è¦æ‰§è¡Œä¸Šè¿°æ–¹æ³•é‡å†™body</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨ä½¿ç”¨os.ReadAll(r.Body)æ–¹æ³•å,éœ€è¦æ‰§è¡Œä¸‹é¢æ–¹æ³•,å°†bodyé‡æ–°å†™å›å»&lt;/p&gt;
&lt;figure class=&quot;highlight golang&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ctx</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>golang ginæ¥å£ç­¾åsign</title>
    <link href="https://harrywork.com/blog/p/2022golanginterface/"/>
    <id>https://harrywork.com/blog/p/2022golanginterface/</id>
    <published>2022-10-28T13:12:04.000Z</published>
    <updated>2024-04-07T01:02:03.647Z</updated>
    
    <content type="html"><![CDATA[<p>golang ginæ¥å£ç­¾åsign</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">gin.Default().Group(<span class="string">&quot;&quot;</span>).Use(xxx.CheckSign())</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//æ³¨å†Œéœ€è¦ç­¾åçš„è·¯ç”±</span></span><br><span class="line">gin.Default().Group(<span class="string">&quot;testrouter&quot;</span>).POST(<span class="string">&quot;dotest&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(ctx *gin.Context)</span></span> &#123;</span><br><span class="line">response.Result(<span class="number">401</span>, gin.H&#123;&#125;, <span class="string">&quot;hello&quot;</span>, ctx)</span><br><span class="line">&#125;) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>sign.go ç­¾å éªŒç­¾</p><figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> xxx</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;crypto/sha256&quot;</span></span><br><span class="line"><span class="string">&quot;encoding/hex&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/flipped-aurora/gin-vue-admin/server/model/common/response&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">SignWrong  = <span class="string">&quot;sign wrong&quot;</span></span><br><span class="line">SignNull   = <span class="string">&quot;sign null&quot;</span></span><br><span class="line">ApiKeyNull = <span class="string">&quot;sign null&quot;</span></span><br><span class="line">UserWrong  = <span class="string">&quot;username wrong&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CheckSign</span><span class="params">()</span></span> gin.HandlerFunc &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">reqData := &amp;RequestHttp&#123;</span><br><span class="line">Ctx:    c,</span><br><span class="line">Params: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line">apiKey := c.Request.FormValue(<span class="string">&quot;api_key&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> apiKey == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">response.Result(<span class="number">401</span>, gin.H&#123;&#125;, ApiKeyNull, c)</span><br><span class="line">c.Abort()</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">apiSecret := <span class="string">&quot;&quot;</span></span><br><span class="line">signReq := c.Request.FormValue(<span class="string">&quot;sign&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> signReq == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">response.Result(<span class="number">401</span>, gin.H&#123;&#125;, SignNull, c)</span><br><span class="line">c.Abort()</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">signStr := reqData.RequestParams(<span class="string">&quot;sign&quot;</span>) + apiSecret</span><br><span class="line">fmt.Println(signStr, <span class="string">&quot;signStr&quot;</span>)</span><br><span class="line">signReal := SignEncode(signStr)</span><br><span class="line"><span class="keyword">if</span> signReq != signReal &#123;</span><br><span class="line">response.Result(<span class="number">401</span>, gin.H&#123;&#125;, SignWrong, c)</span><br><span class="line">c.Abort()</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">c.Next()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@function: SignEncode</span></span><br><span class="line"><span class="comment">//@description: ç”Ÿæˆsign</span></span><br><span class="line"><span class="comment">//@param: message string</span></span><br><span class="line"><span class="comment">//@return: sign string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SignEncode</span><span class="params">(message <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> GetSHA256HashCode(message)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@function: GetSHA256HashCode</span></span><br><span class="line"><span class="comment">//@description: SHA256ç”Ÿæˆå“ˆå¸Œå€¼</span></span><br><span class="line"><span class="comment">//@param: message string</span></span><br><span class="line"><span class="comment">//@return: hashCode string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetSHA256HashCode</span><span class="params">(message <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">messageArr := []<span class="type">byte</span>(message)</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªåŸºäºSHA256ç®—æ³•çš„hash.Hashæ¥å£çš„å¯¹è±¡</span></span><br><span class="line">hash := sha256.New()</span><br><span class="line"><span class="comment">//è¾“å…¥æ•°æ®</span></span><br><span class="line">hash.Write(messageArr)</span><br><span class="line"><span class="comment">//è®¡ç®—å“ˆå¸Œå€¼</span></span><br><span class="line">bytes := hash.Sum(<span class="literal">nil</span>)</span><br><span class="line"><span class="comment">//å°†å­—ç¬¦ä¸²ç¼–ç ä¸º16è¿›åˆ¶æ ¼å¼,è¿”å›å­—ç¬¦ä¸²</span></span><br><span class="line">hashCode := hex.EncodeToString(bytes)</span><br><span class="line"><span class="comment">//è¿”å›å“ˆå¸Œå€¼</span></span><br><span class="line"><span class="keyword">return</span> hashCode</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>get_request.go è·å–è¯·æ±‚å‚æ•°,è½¬æ¢è¯·æ±‚å‚æ•°ä¸ºstring,å‚æ•°keyæ’åº</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> xxx</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;sort&quot;</span></span><br><span class="line"><span class="string">&quot;strings&quot;</span></span><br><span class="line"><span class="string">&quot;sync&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/gin-gonic/gin/binding&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> RequestHttp <span class="keyword">struct</span> &#123;</span><br><span class="line">Ctx    *gin.Context</span><br><span class="line">Params <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">lock   sync.Mutex</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@function: JoinParamsStr</span></span><br><span class="line"><span class="comment">//@description: è¯·æ±‚å‚æ•°è½¬æ¢å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">//@param: message string</span></span><br><span class="line"><span class="comment">//@return: a=1&amp;b=2 string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RequestHttp)</span></span> JoinParamsStr() <span class="type">string</span> &#123;</span><br><span class="line"><span class="comment">//å…ˆæŒ‰key æ’åº å‡åº ASCII å‡åº</span></span><br><span class="line">keys := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">0</span>, <span class="built_in">len</span>(r.Params))</span><br><span class="line"><span class="keyword">for</span> k := <span class="keyword">range</span> r.Params &#123;</span><br><span class="line">keys = <span class="built_in">append</span>(keys, k)</span><br><span class="line">&#125;</span><br><span class="line">sort.Strings(keys)</span><br><span class="line"><span class="keyword">var</span> params []<span class="type">string</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(r.Params) &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">for</span> _, k := <span class="keyword">range</span> keys &#123;</span><br><span class="line">params = <span class="built_in">append</span>(params, fmt.Sprintf(<span class="string">&quot;%s=%v&quot;</span>, k, r.Params[k]))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> strings.Join(params, <span class="string">&quot;&amp;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@function: RequestParams</span></span><br><span class="line"><span class="comment">//@description: è·å–å‚æ•°é›†åˆ</span></span><br><span class="line"><span class="comment">//@param: exclude string æ’é™¤key</span></span><br><span class="line"><span class="comment">//@return: hashCode string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RequestHttp)</span></span> RequestParams(exclude <span class="type">string</span>) <span class="type">string</span> &#123;</span><br><span class="line">ctx := r.Ctx</span><br><span class="line">bindParams := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;&#125;</span><br><span class="line"><span class="keyword">if</span> ctx.Request.Method == <span class="string">&quot;POST&quot;</span> &#123;</span><br><span class="line">contextType := ctx.Request.Header.Get(<span class="string">&quot;Content-Type&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> contextType == <span class="string">&quot;application/json&quot;</span> &#123;</span><br><span class="line">err := ctx.ShouldBindBodyWith(&amp;bindParams, binding.JSON)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123; <span class="comment">//æŠ¥é”™</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;nyx_request_mid_error %v,err: %v \n&quot;</span>, bindParams, err)</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(bindParams) &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> bindParams &#123;</span><br><span class="line">r.Add(k, v)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">_ = ctx.Request.ParseMultipartForm(<span class="number">32</span> &lt;&lt; <span class="number">20</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(ctx.Request.PostForm) &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> ctx.Request.PostForm &#123;</span><br><span class="line">r.Add(k, v[<span class="number">0</span>])</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">var</span> tmpParams = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">err2 := ctx.ShouldBind(&amp;tmpParams)</span><br><span class="line"><span class="keyword">if</span> err2 != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;nyx_request_mid_error %v,err: %v \n&quot;</span>, bindParams, err2)</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> tmpParams &#123;</span><br><span class="line">r.Add(k, v)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">r.Delete(exclude)</span><br><span class="line"><span class="keyword">return</span> r.JoinParamsStr()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RequestHttp)</span></span> Add(key <span class="type">string</span>, value <span class="keyword">interface</span>&#123;&#125;) &#123;</span><br><span class="line">r.lock.Lock()</span><br><span class="line">r.Params[key] = value</span><br><span class="line">r.lock.Unlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RequestHttp)</span></span> Delete(key <span class="type">string</span>) &#123;</span><br><span class="line">r.lock.Lock()</span><br><span class="line"><span class="keyword">if</span> _, ok := r.Params[key]; ok &#123;</span><br><span class="line"><span class="built_in">delete</span>(r.Params, key)</span><br><span class="line">&#125;</span><br><span class="line">r.lock.Unlock()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;golang ginæ¥å£ç­¾åsign&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gin.Default().Group(&lt;span class=&quot;</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="åç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åœ¨æ‰‹æœºä¸Šæ¸…é™¤å…¬ä¼—å·é¡µé¢æˆæƒ? åœ¨å¾®ä¿¡ä¸Šæ¸…é™¤å…¬ä¼—å·ä¸ªäººä¿¡æ¯æˆæƒ</title>
    <link href="https://harrywork.com/blog/p/2022HowtoClearWeChat/"/>
    <id>https://harrywork.com/blog/p/2022HowtoClearWeChat/</id>
    <published>2022-09-28T13:12:04.000Z</published>
    <updated>2024-04-07T01:02:03.658Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-é¦–å…ˆå–å…³å…¬ä¼—å·"><a href="#1-é¦–å…ˆå–å…³å…¬ä¼—å·" class="headerlink" title="1.é¦–å…ˆå–å…³å…¬ä¼—å·"></a>1.é¦–å…ˆå–å…³å…¬ä¼—å·</h4><h4 id="2-ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°-æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢"><a href="#2-ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°-æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢" class="headerlink" title="2.ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°,æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢"></a>2.ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°,æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢</h4><h4 id="3-ç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹-åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©â€è®¾ç½®â€"><a href="#3-ç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹-åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©â€è®¾ç½®â€" class="headerlink" title="3.ç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹,åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©â€è®¾ç½®â€"></a>3.ç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹,åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©â€è®¾ç½®â€</h4><h4 id="4-ç‚¹å‡»â€å·²è·å–çš„ä¿¡æ¯â€"><a href="#4-ç‚¹å‡»â€å·²è·å–çš„ä¿¡æ¯â€" class="headerlink" title="4.ç‚¹å‡»â€å·²è·å–çš„ä¿¡æ¯â€"></a>4.ç‚¹å‡»â€å·²è·å–çš„ä¿¡æ¯â€</h4><h4 id="5-ç‚¹å‡»ç®¡ç†æŒ‰é’®-åˆ é™¤å·²æˆæƒçš„ä¿¡æ¯åˆ—-å¹¶ç‚¹å‡»å®Œæˆ"><a href="#5-ç‚¹å‡»ç®¡ç†æŒ‰é’®-åˆ é™¤å·²æˆæƒçš„ä¿¡æ¯åˆ—-å¹¶ç‚¹å‡»å®Œæˆ" class="headerlink" title="5.ç‚¹å‡»ç®¡ç†æŒ‰é’®, åˆ é™¤å·²æˆæƒçš„ä¿¡æ¯åˆ—,å¹¶ç‚¹å‡»å®Œæˆ"></a>5.ç‚¹å‡»ç®¡ç†æŒ‰é’®, åˆ é™¤å·²æˆæƒçš„ä¿¡æ¯åˆ—,å¹¶ç‚¹å‡»å®Œæˆ</h4><h4 id="6-å†è¿›å…¥åˆ°å…¬ä¼—å·é¡µé¢-å‘ç°éœ€è¦é‡æ–°è·å–æˆæƒäº†"><a href="#6-å†è¿›å…¥åˆ°å…¬ä¼—å·é¡µé¢-å‘ç°éœ€è¦é‡æ–°è·å–æˆæƒäº†" class="headerlink" title="6.å†è¿›å…¥åˆ°å…¬ä¼—å·é¡µé¢,å‘ç°éœ€è¦é‡æ–°è·å–æˆæƒäº†"></a>6.å†è¿›å…¥åˆ°å…¬ä¼—å·é¡µé¢,å‘ç°éœ€è¦é‡æ–°è·å–æˆæƒäº†</h4>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-é¦–å…ˆå–å…³å…¬ä¼—å·&quot;&gt;&lt;a href=&quot;#1-é¦–å…ˆå–å…³å…¬ä¼—å·&quot; class=&quot;headerlink&quot; title=&quot;1.é¦–å…ˆå–å…³å…¬ä¼—å·&quot;&gt;&lt;/a&gt;1.é¦–å…ˆå–å…³å…¬ä¼—å·&lt;/h4&gt;&lt;h4 id=&quot;2-ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°-æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢&quot;&gt;&lt;a hre</summary>
      
    
    
    
    <category term="å¼€å‘" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="å‰ç«¯" scheme="https://harrywork.com/blog/categories/%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/"/>
    
    
  </entry>
  
</feed>
